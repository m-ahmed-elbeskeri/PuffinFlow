id: lucky_number_analysis
steps:
  - id: get_first
    action: prompts.ask
    inputs:
      question: "Enter the first number:"
      type: "number"

  - id: get_second
    action: prompts.ask
    inputs:
      question: "Enter the second number:"
      type: "number"

  - id: get_third
    action: prompts.ask
    inputs:
      question: "Enter the third number:"
      type: "number"

  - id: add_first_two
    action: basic.add
    inputs:
      a: get_first.answer
      b: get_second.answer

  - id: add_final
    action: basic.add
    inputs:
      a: add_first_two.sum
      b: get_third.answer

  - id: store_sum
    action: variables.set_local
    inputs:
      name: "sum"
      value: add_final.sum

  - id: create_prompt
    action: variables.set_local
    inputs:
      name: "ai_response"
      value: "The number {{sum}} - is this number considered lucky or significant in any cultural or societal context? Please provide specific examples from different cultures and traditions if applicable."

  - id: ask_ai
    action: openai.chat_completion
    inputs:
      model: "gpt-4-turbo-preview"
      prompt: ai_response
      system_message: "You are a cultural expert with deep knowledge of numerology, cultural significance of numbers, and lucky numbers across different societies. Please provide detailed, accurate information about the cultural significance of numbers."
      temperature: 0.7
      max_tokens: 500

  - id: display_result
    action: prompts.notify
    inputs:
      message: "Sum: {{sum}}\n\nAnalysis: {{ask_ai.response}}"
      level: "info"